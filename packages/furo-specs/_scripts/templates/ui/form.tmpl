// Code generated by @furo/specs. DO NOT EDIT.
// source: {{.source}}
import {html, css, LitElement} from 'lit-element';
import {FBP} from "@furo/fbp";
import {Theme} from "@furo/framework/theme"
import {i18n} from "@furo/framework/i18n"

{{range $import := .imports}}
import "{{$import}}";{{end}}

/**
 * `{{.component_name}}`
 * {{.description}}
 *
 * @customElement
 * @appliesMixin FBP
 */
export class {{.class_name}} extends FBP(LitElement) {
    static get styles() {
        // language=CSS
       return Theme.getThemeForComponent('{{.theme}}') || css`
            :host {
                display: block;
            }
            :host([hidden]) {
                display: none;
            }
            h1 {
                font-size: 24px;
                line-height: 24px;
                letter-spacing: 0;
                margin: 0;
                font-weight: normal;
                margin-bottom: 4px;
            }
           .caption{
                font-size: 10px;
                text-transform: uppercase;
                line-height: 32px;
                letter-spacing: 1.5px;
                font-weight: 500;
            }
            .secondary{
                color: var(--secondary-color, var(--on-primary-light,#777777));
                line-height: 22px;
                font-size: 14px;
                letter-spacing: 0.1px;
            }
        `
    }
    /**
     * Bind here your furo-data-object event @-object-ready
     * @public
     * @param data
     */
    bindData(data) {
        this._FBPTriggerWire('--data', data);
        this.field = data;
        {{if .autolabel}}
        // add title if display_name is available
        if (this.field.display_name) {
              this.field.display_name.addEventListener("this-field-value-changed", () => {
                this.display_name = html`<h1>${this.field.label._value}</h1>`;
                this.requestUpdate();
              });
              this.display_name = html`<h1>${this.field.label._value}</h1>`;
        }

        // add title if a field secondary_text is available
        if (this.field.secondary_text) {
          this.field.secondary_text.addEventListener("this-field-value-changed", () => {
            this.secondary_text = html`<div class="secondary">${this.field.secondary_text._value}</div>`;
            this.requestUpdate();
          });
          this.secondary_text = html`<div class="secondary">${this.field.secondary_text._value}</div>`;
        }

        // add title if a field display_caption is available
        if (this.field.display_caption) {
          this.field.display_caption.addEventListener("this-field-value-changed", () => {
            this.display_caption = html`<div class="caption">${this.field.display_caption._value}</div>`;
            this.requestUpdate();
          });
          this.display_caption = html`<div class="caption">${this.field.display_caption._value}</div>`;
        }
        {{end}}
    }

    /**
     * @private
     * @returns {TemplateResult|TemplateResult}
     */
    render() {
        // language=HTML
        return html`
        {{if .autolabel}} ${this.display_name} ${this.secondary_text} ${this.display_caption}  {{end}}
            {{range $fieldgroup := .fieldgroups}}{{"<" | noescape}}!-- {{$fieldgroup.description}}  -->
            {{if $fieldgroup.title}}{{"<" | noescape}}h1>${i18n.t("{{$fieldgroup.title}}")}</h1>{{end}}
            {{if $fieldgroup.caption}}{{"<" | noescape}}div class="caption">${i18n.t("{{$fieldgroup.caption}}")}</div>{{end}}
            {{if $fieldgroup.secondary_text}}{{"<" | noescape}}span class="secondary">${i18n.t("{{$fieldgroup.secondary_text}}")}</span>{{end}}
            {{"<" | noescape}}{{$fieldgroup.component}}{{range $flag := $fieldgroup.flags}} {{$flag}}{{end}}{{range $attr := $fieldgroup.attrs}} {{$attr.name}}="{{$attr.val}}"{{end}}>
                {{- range $field := $fieldgroup.fields}}
                {{"<" | noescape}}!-- {{$field.spec.description}}  -->
                {{"<" | noescape}}{{$field.component}} {{range $flag := $field.flags}}{{$flag}} {{end}}{{range $attr := $field.attrs}} {{$attr.name}}="{{$attr.val}}" {{end}}
                {{- if $field.field}}Æ’-bind-data="--data(*.{{$field.field}})"{{end}}>{{"<" | noescape}}/{{$field.component}}>{{end}}
            {{"<" | noescape}}/{{$fieldgroup.component}}>
            {{end}}
        `;
    }
}

window.customElements.define('{{.component_name}}', {{.class_name}});
