// Code generated by @furo/ui-builder. DO NOT EDIT.
// source: tree.tree.referencedropdown.spec
import { LitElement, html, css } from 'lit-element';
import {Theme} from "@furo/framework/theme"
import {FBP} from "@furo/fbp";
import "@furo/data"
import "@furo/data-input"



/**
 * `tree-tree-reference-dropdown`
 *  Complete reference searcher for tree.Tree
 *
 *  
 *
 * @summary search tree.Tree
 * @customElement
 * @appliesMixin FBP
 */
class TreeTreeReferencedropdown extends FBP(LitElement) {

  bindData(field){
    this.field = field;
    this._FBPTriggerWire("--field-injected", field);

    this.field.addEventListener("field-value-changed", (e)=>{

      if(e.detail._name == "type") {
        this._FBPTriggerWire("--htsUpdated", this.field.link._value);
      }
    });
  }
  /**
   * Themable Styles
   * @private
   * @return {CSSResult}
   */
  static get styles() {
    // language=CSS
    return Theme.getThemeForComponent('ReferenceDropdownBaseTheme') || css`
        :host {
            display: block;
        }

        :host([hidden]) {
            display: none;
        }
        furo-data-collection-dropdown{
            width:100%;
        }
    `
  }

  static get properties() {
    return {
      /**
       * The default style (md like) supports a condensed form. It is a little bit smaller then the default
       */
      condensed: {
        type: Boolean
      }
    };
  }
  /**
   * @private
   * @returns {TemplateResult}
   * @private
   */
  render() {
    // language=HTML
    return html`
      <furo-data-collection-dropdown
                    value-field="id"
                    display-field="display_name"
                    subfield="id"
                    subfield-display="display_name"
                    ƒ-bind-data="--field-injected"
                    ƒ-inject-entities="--collection(*.entities)"
                    ?condensed="${this.condensed}">
      </furo-data-collection-dropdown>
      <furo-collection-agent
              service="TreeService"
              ƒ-hts-in="--field-injected(*.link._value), --htsUpdated"
              list-on-hts-in
              @-response="--collection">
      </furo-collection-agent>

    `;
  }
}

window.customElements.define('tree-tree-reference-dropdown', TreeTreeReferencedropdown);
